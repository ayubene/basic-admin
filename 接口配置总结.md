# æ¥å£é…ç½®æ€»ç»“

## âœ… å·²å®Œæˆé…ç½®

### 1. ç”¨æˆ·ç®¡ç†é¡µé¢
**æ–‡ä»¶**: `src/views/UserManagementView.vue`

#### BasicTable - ç”¨æˆ·åˆ—è¡¨
- **æ¥å£**: `/system/user/list`
- **é…ç½®**: `query-url="/system/user/list"`
- **å‚æ•°**: pageNum, pageSize, name, status, department
- **æ•°æ®æ ¼å¼**: `{rows: [], total: number}` â†’ è‡ªåŠ¨è½¬æ¢ä¸º `{data: [], total: number}`

#### BasicSelect - éƒ¨é—¨é€‰æ‹©ï¼ˆè¡¨å•ä¸­ï¼‰
- **æ¥å£**: `/system/department/departList`
- **é…ç½®**: 
  ```vue
  <BasicSelect
    v-model="form.department"
    list-url="/system/department/departList"
    value-key="id"
    label-key="name"
    placeholder="è¯·é€‰æ‹©éƒ¨é—¨"
  />
  ```
- **æ•°æ®æ ¼å¼**: ç›´æ¥è¿”å›æ•°ç»„æˆ– `{code, data: []}` â†’ è‡ªåŠ¨æå–æ•°ç»„

#### éƒ¨é—¨æœç´¢åˆ—ï¼ˆè¡¨æ ¼ä¸­ï¼‰
- **æ¥å£**: `/system/department/departList`
- **å®ç°æ–¹å¼**: 
  - ç»„ä»¶æŒ‚è½½æ—¶è°ƒç”¨ `getDepartmentList()` è·å–éƒ¨é—¨åˆ—è¡¨
  - åŠ¨æ€æ„å»º `searchOptions` æ•°ç»„
  - æ„å»º `departmentMap` ç”¨äºæ˜¾ç¤ºéƒ¨é—¨åç§°
- **é…ç½®**:
  ```typescript
  {
    field: 'department',
    searchable: true,
    searchType: 'select',
    searchOptions: departmentOptions, // åŠ¨æ€åŠ è½½
    formatter: ({ cellValue }) => departmentMap.value[cellValue] || '--'
  }
  ```

### 2. ä»£ç†é…ç½®
**æ–‡ä»¶**: `vite.config.ts`

```typescript
proxy: {
  '/system': {
    target: 'http://10.1.23.80:8082/shiye-retail',
    changeOrigin: true,
    rewrite: (path) => path
  }
}
```

### 3. API é…ç½®
**æ–‡ä»¶**: `src/api/config.ts`

- åˆ›å»ºäº†ç‹¬ç«‹çš„ axios å®ä¾‹
- é…ç½®äº†å“åº”æ‹¦æˆªå™¨ï¼Œè‡ªåŠ¨å¤„ç†ï¼š
  - åˆ†é¡µæ•°æ®æ ¼å¼è½¬æ¢ï¼ˆBasicTableï¼‰
  - åˆ—è¡¨æ•°æ®æ ¼å¼è½¬æ¢ï¼ˆBasicSelectï¼‰
  - é”™è¯¯æç¤º

### 4. API æ¥å£å®šä¹‰
- `src/api/user.ts` - ç”¨æˆ·ç®¡ç†æ¥å£
- `src/api/department.ts` - éƒ¨é—¨æ¥å£

## ğŸ¯ ä½¿ç”¨çš„ç»„ä»¶

### BasicTable
- è‡ªåŠ¨åˆ†é¡µ
- æ”¯æŒæœç´¢
- æ”¯æŒåˆ—è‡ªå®šä¹‰
- éœ€è¦æ•°æ®æ ¼å¼: `{data: [], total: number}`

### BasicSelect
- è¿œç¨‹æ•°æ®åŠ è½½
- ä½¿ç”¨ `list-url` å±æ€§
- ä½¿ç”¨ `value-key` å’Œ `label-key` æŒ‡å®šå­—æ®µ
- éœ€è¦æ•°æ®æ ¼å¼: æ•°ç»„ `[{id, name, ...}]`

### BasicButton
- æ”¯æŒ `:on-click` å¼‚æ­¥å‡½æ•°
- è‡ªåŠ¨ loading çŠ¶æ€

### BasicModal
- ä½¿ç”¨ `v-model` æ§åˆ¶æ˜¾ç¤º

## ğŸ“ æ•°æ®æµ

```
å‰ç«¯è¯·æ±‚
  â†“
Vite ä»£ç† (å¼€å‘ç¯å¢ƒ)
  â†“
åç«¯æœåŠ¡ (http://10.1.23.80:8082/shiye-retail)
  â†“
å“åº”æ‹¦æˆªå™¨ (æ•°æ®æ ¼å¼è½¬æ¢)
  â†“
ç»„ä»¶æ¸²æŸ“
```

## ğŸš€ å¯åŠ¨é¡¹ç›®

```bash
npm run dev
```

è®¿é—®: http://localhost:5175/

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **BasicSelect çš„ value-key å’Œ label-key**
   - `value-key="id"` - ä½¿ç”¨éƒ¨é—¨çš„ id ä½œä¸ºå€¼
   - `label-key="name"` - æ˜¾ç¤ºéƒ¨é—¨çš„ name

2. **ä»£ç†åªåœ¨å¼€å‘ç¯å¢ƒç”Ÿæ•ˆ**
   - å¼€å‘ç¯å¢ƒ: è¯·æ±‚ `/system/xxx` â†’ ä»£ç†åˆ°åç«¯
   - ç”Ÿäº§ç¯å¢ƒ: éœ€è¦é…ç½®å®Œæ•´ URL æˆ– Nginx ä»£ç†

3. **åç«¯æ•°æ®æ ¼å¼**
   - ç”¨æˆ·åˆ—è¡¨: `{code, msg, rows, total}`
   - éƒ¨é—¨åˆ—è¡¨: ç›´æ¥è¿”å›æ•°ç»„æˆ– `{code, data: []}`
   - å“åº”æ‹¦æˆªå™¨ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›æ ¼å¼

## ğŸ”§ æ‰©å±•å…¶ä»–æ¥å£

å¦‚æœéœ€è¦æ·»åŠ å…¶ä»–æ¥å£ï¼ˆå¦‚å•†å“ã€è®¢å•ç­‰ï¼‰ï¼š

1. åœ¨ `vite.config.ts` æ·»åŠ ä»£ç†è§„åˆ™ï¼ˆå¦‚æœè·¯å¾„ä¸åŒï¼‰
2. åœ¨ `src/api/` åˆ›å»ºå¯¹åº”çš„ API æ–‡ä»¶
3. åœ¨é¡µé¢ä¸­ä½¿ç”¨ `query-url` æˆ– `list-url`
4. ç¡®ä¿åç«¯è¿”å›çš„æ•°æ®æ ¼å¼ç¬¦åˆè¦æ±‚
